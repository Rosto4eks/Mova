# Общее описание проекта:

Проект представляет собой мобильное приложение для интерактивного изучения белорусского языка. Основу приложения составляют четыре основные части:

1 - интерактивный курс обучения, состоящий из заданий 4 типов:
  - выбор правильного перевода слова из предложенных вариантов
  - вставка пропущенных слов в текст из предложенных вариантов
  - перевод предложения используя предложенные слова
  - перевод предложения рукописным текстом
Курс обучения состоит из модулей, каждый модуль состоит из списка занятий, каждое занятие содержит несколько заданий.
За прохождение каждого занятия пользователь будет вознагражден виртуальной валютой, с помощью которой сможет осуществлять транзакции внутри приложения.

2 - переводчик слов с русского на белорусский и наоборот
(Нейросеть, способная переводить текст с русского на белорусский и наоборот, написанная с помощью языка программирования python и фреймворка tensorflow, используя датасеты параллельных русско-белорусских текстов, находящихся в открытом доступе. Нейросеть будет запущена на удаленном сервере, взаимодействие будет осуществлено путем http запросов к серверу от клиента)

3 - библиотека пользовательских книг. Для доступа к ней пользователю потребуется зарегистрироваться либо авторизироваться. Пользователь может найти интересующие его книги, либо добавить для общего пользования свои, также пользователь сможет указывать цену в виртуальной валюте, которую необходимо заплатить для получения доступа к книге. При каждой покупке книги другим пользователем  вы будете получать вознаграждение в размере 5% от стоимости. Максимально пользователь может добавить до 3 книг.
Пользователь с ролью администратора имеет неограниченное право удалять чужие книги, блокировать возможность добавления книг другим пользователям с целью поддержания порядка в репозитории.

4 - личный профиль, в котором указана вся основная информация о пользователе и его достижения. Здесь пользователю доступны функции смены имени и пароля, также поиск профиля другого пользователя по имени.

# Техническая реализация:
![](https://github.com/Rosto4eks/Mova/blob/master/classes.png)
Для создания проекта используется язык программирования dart совместно с фреймворком flutter для создания мобильного приложения. Локальные данные будут храниться с помощью субд sqlite, внешние данные будут храниться в firebase.

Мобильное приложение имеет 5 основных страниц:
1 - главная страница, содержащая кнопки перенаправления к последнему не выполненному уроку и кнопка перехода к последней непрочитанной книге.
2 - страница словаря. Содержит в себе поле для ввода слова, ниже появляется перевод введенного слова.
3 - страница курса обучения. На ней в виде списка представлены доступные для прохождения модули. По нажатию на один из модулей открывается список пройденных и доступных занятий этого модуля. По нажатию на одно из занятий на экране отображается первое задание из занятия. На экране отобразятся основные элементы задания, отличающиеся в зависимости от типа задания. После выполнения задания автоматически запускается следующее задание. При выполнении последнего задания пользователь получает вознаграждение в виде виртуальной валюты и перенаправляется на страницу доступных занятий.
4 - страница библиотеки. Содержит две вкладки: личная коллекция и репозиторий. В личной коллекции в виде списка выведены все пользовательские книги. По нажатию на одну из них открывается текст книги. В репозитории вверху экрана находится поиск по названию, а также элементы управления списком книг. Ниже располагается список доступных книг. При нажатии на одну из них пользователь может добавить их в собственную коллекцию, если книга платная, то может ее купить при наличии необходимого количества виртуальной валюты.
5 - страница личного профиля. На ней представлены данные пользователя, кнопки изменения пароля и имени пользователя. Будут отображены все достижения пользователя. Элемент для поиска других пользователей по имени.


### абстрактный класс Entity

Содержит:
название
уникальный номер
состояние выполнения задания
состояние выполнения прежде задания
объект класса Notifier для отправки уведомлений
Используется как базовый класс для всех остальных сущностей. 

### абстрактный класс EntityContainer

Содержит:
	массив элементов
	массив слушателей событий
	количество завершенных элементов
	общее количество элементов
	метод добавления элементов
используется для хранения объектов и отслеживания их состояния.


## Сервисы:

### абстрактный класс Service 

является базовым классом для всех сервисов
содержит статическое поле пользователя
и поле репозитория, метод проверки роли пользователя

### класс StudyService

Главный элемент управления курсом обучения
содержит: 
репозиторий для доступа к данным
метод получения доступных модулей обучения
метод отслеживания событий, предназначенный для подсчета количества выполненных дочерних элементов
метод отслеживания событий предназначенный для инициализации данных для дочерних элементов
методы сохранения дочерних элементов


### класс BookService

Главный элемент управления библиотеки
содержит:
	репозиторий
	список загруженных книг
	список книг пользователя
	отступ для загрузки данных из репозитория
	метод получения текста книги
	метод покупки книги и добавления в личную коллекцию
	метод получения книг пользователя
	метод получения книг из репозитория
	метод добавления книги
	метод удаления книги
	

### класс TranslateService

Главный элемент управления переводом слов
содержит методы для перевода слов с русского на белорусский и наоборот

### класс UserService

Главный элемент управления пользовательскими данными
содержит:
	репозиторий
	массив пользовательских ачивок
	метод смены пароля
	метод получения списка ачивок
	метод смены роли другого пользователя
	метод смены статуса другого пользователя
	метод получения пользователя по имени


## Репозитории:

### абстрактный класс репозитория:

содержит объект соединения с базой данных
является базовым классом для всех остальных репозиториев

### класс StudyRepository

содержит методы
	получения модулей
	получения занятий по айди модуля
	получения заданий по айди занятия
	сохранения задания для каждого типа
	сохранения занятия и сохранения модуля

### класс UserRepository

содержит методы
	получения пользователя
	получения другого пользователя по имени
	сохранения пользователя
	получения списка достижений
	добавления достижения

### класс BookRepository

содержит методы
	получения книг
	получения пользовательских книг
	добавления книги
	удаления книги

### класс TranslateRepository

содержит метод получения перевода по слову


### абстрактный класс Task

наследуется от Entity
содержит абстрактные методы, которые должны реализовать потомки.
Содержит три основных метода
check - проверка правильности выполнения задания
reset - сброс состояния задания до начального, сохраняет свойство everCompleted 
showCorrect - показывает правильный ответ на задание

### класс Notifier

используется для отслеживания событий
при вызове метода notify вызываются все обработчики, подписанные на это событие
с помощью метода add добавляет новых слушателей события.

### класс Event

Используется для определения произошедшего события.
name - название обьекта создавшего данное событие
EventType - тип произошедшего события, к примеру init или complete
data - словарь использующийся для передачи дополнительный данных, таких как id

### класс  TranslateWordTask

наследуется от класса Task
функционал задания - выбрать перевод слова из предложенных вариантов
с помощью метода selectTranslation() выбираем из доступных вариантов перевод заданного слова.

### класс WriteTransationTask
 
функционал задания - написать перевод предложенного текста
с помощью метода setInput можно ввести строку перевода текста

### абстрактный класс InsertionTask

определяет абстрактные методы вставки слова и удаления последнего добавленного слова.

### классы InsertWordsTask и TranslateTextTask

функционал задания - вставить в текст пропущенные слова из предложенных вариантов, вставка происходит в первую пропущенную ячейку, удаление происходит для последнего добавленного слова


функционал задания - составить перевод предложенного текста из доступных вариантов слов, вставка происходит в первую пропущенную ячейку, удаление происходит для последнего добавленного слова

наследуются от InsertionTask.

### класс Lesson 

наследуется от Entity и EntityContainer
содержит метод получения следующего невыполненного задания.

### класс Module

наследуется от Entity и EntityContainer


### класс User

содержит все необходимые данные для корректной работы
